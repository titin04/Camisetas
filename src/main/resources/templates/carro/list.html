<!doctype html>
<html lang="es">
<head th:replace="~{fragmentos/generar.html :: headfiles}"></head>
<body>
<div class="container">
    <nav th:replace="~{fragmentos/generar.html :: navegacion}"></nav>

    <h2>Carro de la compra</h2>

    <div th:if="${lineapedidos != null}">
        <table class="table table-striped">
            <thead>
            <tr>
                <th>ID</th>
                <th>Producto</th>
                <th>Categoría</th>
                <th>Talla</th>
                <th>Sexo</th>
                <th>Color</th>
                <th>Marca</th>
                <th>Precio</th>
                <th>Cantidad</th>
                <th>Acciones</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="lp : ${lineapedidos}">
                <td th:text="${lp.id}"></td>
                <td th:text="${lp.camiseta != null ? lp.camiseta.id : '---'}"></td>
                <td th:text="${lp.camiseta.categoria != null ? lp.camiseta.categoria.nombre : '---'}"></td>
                <td th:text="${lp.camiseta.talla}"></td>
                <td th:text="${lp.camiseta.sexo}"></td>
                <td th:text="${lp.camiseta.color}"></td>
                <td th:text="${lp.camiseta.marca}"></td>
                <td th:text="|${lp.camiseta.precio} €|"></td>
                <td th:text="${lp.cantidad}"></td>
                <td>
                    <a class="btn btn-warning btn-sm" th:href="@{/carro/edit/{id}(id=${lp.id})}">
                        Editar
                    </a>
                    <a class="btn btn-danger btn-sm" th:href="@{/carro/del/{id}(id=${lp.id})}">
                        Eliminar
                    </a>
                </td>
            </tr>
            <tr>
                <th colspan="8">TOTAL</th>
                <td th:text="|${total} €|"></td>
                <td></td>
            </tr>
            </tbody>
        </table>

        <div class="mt-3">
            <a class="btn btn-primary" href="/camiseta">
                Seguir comprando
            </a>
            <a class="btn btn-success" href="/carro/confirmar">
                Terminar y pagar
            </a>
        </div>
    </div>

    <div th:if="${lineapedidos == null}">
        <h3>La cesta está vacía.</h3>
        <p>Añada productos.</p>
        <a href="/camiseta" class="btn btn-primary">
            Ir a camisetas
        </a>
    </div>

    <footer th:replace="~{fragmentos/generar.html :: footer}"></footer>
</div>
</body>
</html>
